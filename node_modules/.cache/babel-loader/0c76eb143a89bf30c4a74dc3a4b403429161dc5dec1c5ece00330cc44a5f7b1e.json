{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, normalizeClass as _normalizeClass, withModifiers as _withModifiers, createTextVNode as _createTextVNode, createStaticVNode as _createStaticVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = {\n  class: \"d-flex align-items-center justify-content-center min-vh-100 bg-light\"\n};\nvar _hoisted_2 = {\n  class: \"card login-card shadow-lg p-4\"\n};\nvar _hoisted_3 = {\n  class: \"form-group\"\n};\nvar _hoisted_4 = {\n  class: \"form-group\"\n};\nvar _hoisted_5 = [\"type\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[7] || (_cache[7] = _createElementVNode(\"h3\", {\n    class: \"text-center text-dark mb-3\",\n    style: {\n      \"font-family\": \"'Lato', Arial, sans-serif\",\n      \"font-weight\": \"300\",\n      \"font-size\": \"1.75rem\"\n    }\n  }, \"Sign In\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers(function () {\n      return $setup.login && $setup.login.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"icon d-flex align-items-center justify-content-center\"\n  }, [_createElementVNode(\"span\", {\n    class: \"fa fa-user\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.username = $event;\n    }),\n    type: \"text\",\n    class: \"form-control\",\n    placeholder: \"Username\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.username]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"icon d-flex align-items-center justify-content-center\"\n  }, [_createElementVNode(\"span\", {\n    class: \"fa fa-lock\"\n  })], -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    id: \"passwordInput\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.password = $event;\n    }),\n    type: $setup.showPassword ? 'text' : 'password',\n    class: \"form-control\",\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_5), [[_vModelDynamic, $setup.password]]), _createElementVNode(\"span\", {\n    class: \"input-group-text password-toggle\",\n    onClick: _cache[2] || (_cache[2] = function () {\n      return $setup.togglePasswordVisibility && $setup.togglePasswordVisibility.apply($setup, arguments);\n    })\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass($setup.showPassword ? 'fa fa-eye' : 'fa fa-eye-slash')\n  }, null, 2 /* CLASS */)])]), _cache[6] || (_cache[6] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-success w-100 py-2\"\n  }, \"Login\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _cache[8] || (_cache[8] = _createStaticVNode(\"<div class=\\\"form-group mt-4\\\"><div class=\\\"w-100 text-center\\\"><p class=\\\"mb-1\\\">Don&#39;t have an account? <a href=\\\"#\\\">Sign Up</a></p><p><a href=\\\"#\\\">Forgot Password</a></p></div></div>\", 1))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","style","onSubmit","_cache","_withModifiers","$setup","login","apply","arguments","_hoisted_3","$event","username","type","placeholder","required","_hoisted_4","id","password","showPassword","_hoisted_5","onClick","togglePasswordVisibility","_normalizeClass","_createStaticVNode"],"sources":["/home/user/MAD2_project/housing-services-v2/src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"d-flex align-items-center justify-content-center min-vh-100 bg-light\">\n    <div class=\"card login-card shadow-lg p-4\">\n      <h3 class=\"text-center text-dark mb-3\" style=\"font-family:'Lato', Arial, sans-serif; font-weight: 300; font-size: 1.75rem;\">Sign In</h3>\n      <form @submit.prevent=\"login\">\n        <div class=\"form-group\">\n          <div class=\"icon d-flex align-items-center justify-content-center\">\n            <span class=\"fa fa-user\"></span>\n          </div>\n          <input v-model=\"username\" type=\"text\" class=\"form-control\" placeholder=\"Username\" required />\n        </div>\n        <div class=\"form-group\">\n          <div class=\"icon d-flex align-items-center justify-content-center\">\n            <span class=\"fa fa-lock\"></span>\n          </div>\n          <input id = \"passwordInput\" v-model=\"password\" :type=\"showPassword ? 'text' : 'password'\" class=\"form-control\" placeholder=\"Password\" required />\n          <span class=\"input-group-text password-toggle\" @click=\"togglePasswordVisibility\">\n            <i :class=\"showPassword ? 'fa fa-eye' : 'fa fa-eye-slash'\"></i>\n          </span>       \n        </div>\n        <button type=\"submit\" class=\"btn btn-success w-100 py-2\">Login</button>\n      </form>\n      <div class=\"form-group mt-4\">\n        <div class=\"w-100 text-center\">\n          <p class=\"mb-1\">Don't have an account? <a href=\"#\">Sign Up</a></p>\n          <p><a href=\"#\">Forgot Password</a></p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useAuthStore } from '@/store/auth';\nimport { useRouter } from 'vue-router';\nimport { ref, onMounted } from 'vue';\nimport api from '@/api';\n\nexport default {\n  setup() {\n    const store = useAuthStore();\n    const router = useRouter();\n    const username = ref('');\n    const password = ref('');\n\n    const showPassword = ref(false);\n    const passwordInput = ref(null);\n    \n    onMounted(() => {\n      passwordInput.value = document.querySelector('#passwordInput');\n    });\n\n    const togglePasswordVisibility = () => {\n      showPassword.value = !showPassword.value;\n      // Small delay to avoid reactivity issues\n        if (passwordInput.value) {\n          passwordInput.value.focus(); // Ensure focus remains on input\n        }\n    };\n\n    const login = async () => {\n      try {\n        const response = await api.get('/professionals');\n\n        // Store the token\n        const token = response.data.access_token;\n        localStorage.setItem('token', token);\n\n        // Set token in headers for future requests\n        api.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n        store.login({ role: response.data.role, token: response.data.access_token });\n        router.push(`/${response.data.role}/dashboard`);\n      } catch (error) {\n        alert('Invalid credentials');\n      }\n    };\n\n    return { username, password, login, showPassword, togglePasswordVisibility };\n  }\n};\n</script>\n\n<style>\n* {\n  font-family: \"Lato\", Arial, sans-serif;\n  font-size: 16px;\n  line-height: 1.8;\n  font-weight: normal;\n  color: gray;\n}\n\n.bg-light {\n  background-color: #f8f9fa;\n}\n\n.login-card {\n  width: 25rem;\n  border-radius: 10px;\n  background: #fff;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);\n  padding: 2rem;\n  text-align: center;\n}\n\n.form-control {\n  border-left: none;\n  height: 48px;\n}\n\n.btn-success {\n  background-color: #483434;\n  border: none;\n  font-weight: bold;\n}\n\n.btn-success:hover {\n  background-color: #6B4F4F;\n}\n\n.form-group {\n  position: relative; \n  margin-bottom: 1rem;\n}\n\n  .form-group .icon {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 48px;\n    height: 48px;\n    background: #483434;\n    font-size: 20px;\n    border-radius: 5px 0 0 5px; }\n    .form-group .icon span {\n      color: #fff; }\n      .form-control {\n  height: 48px;\n  background: #fff;\n  color: #000;\n  font-size: 16px;\n  border-radius: 5px;\n  -webkit-box-shadow: none;\n  box-shadow: none;\n  border: 1px solid rgba(0, 0, 0, 0.1);\n  padding-left: 60px; }\n\n  .form-control:focus, .form-control:active {\n    outline: none !important;\n    -webkit-box-shadow: none;\n    box-shadow: none;\n    border: 1px solid #483434; }\n\n    a {\n  transition: .3s all ease;\n  color: #483434; \n  text-decoration: none; }\n  a:hover, a:focus {\n    color: #007bff; }\n\n    .password-toggle {\n  cursor: pointer;\n  background: white;\n  border: none;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  padding: 5px;\n  font-size: 1.3rem;\n}\n</style>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAsE;;EAC1EA,KAAK,EAAC;AAA+B;;EAGjCA,KAAK,EAAC;AAAY;;EAMlBA,KAAK,EAAC;AAAY;iBAX/B;;uBACEC,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJC,mBAAA,CA0BM,OA1BNC,UA0BM,G,0BAzBJD,mBAAA,CAAwI;IAApIH,KAAK,EAAC,4BAA4B;IAACK,KAAoF,EAApF;MAAA;MAAA;MAAA;IAAA;KAAqF,SAAO,sBACnIF,mBAAA,CAiBO;IAjBAG,QAAM,EAAAC,MAAA,QAAAA,MAAA,MAJnBC,cAAA;MAAA,OAI6BC,MAAA,CAAAC,KAAA,IAAAD,MAAA,CAAAC,KAAA,CAAAC,KAAA,CAAAF,MAAA,EAAAG,SAAA,CAAK;IAAA;MAC1BT,mBAAA,CAKM,OALNU,UAKM,G,0BAJJV,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAuD,IAChEG,mBAAA,CAAgC;IAA1BH,KAAK,EAAC;EAAY,G,sCAE1BG,mBAAA,CAA6F;IATvG,uBAAAI,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAS0BL,MAAA,CAAAM,QAAQ,GAAAD,MAAA;IAAA;IAAEE,IAAI,EAAC,MAAM;IAAChB,KAAK,EAAC,cAAc;IAACiB,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;iDAAlET,MAAA,CAAAM,QAAQ,E,KAE1BZ,mBAAA,CAQM,OARNgB,UAQM,G,0BAPJhB,mBAAA,CAEM;IAFDH,KAAK,EAAC;EAAuD,IAChEG,mBAAA,CAAgC;IAA1BH,KAAK,EAAC;EAAY,G,sCAE1BG,mBAAA,CAAiJ;IAA1IiB,EAAE,EAAG,eAAe;IAfrC,uBAAAb,MAAA,QAAAA,MAAA,gBAAAO,MAAA;MAAA,OAe+CL,MAAA,CAAAY,QAAQ,GAAAP,MAAA;IAAA;IAAGE,IAAI,EAAEP,MAAA,CAAAa,YAAY;IAAwBtB,KAAK,EAAC,cAAc;IAACiB,WAAW,EAAC,UAAU;IAACC,QAAQ,EAAR;0BAfhJK,UAAA,I,iBAe+Cd,MAAA,CAAAY,QAAQ,E,GAC7ClB,mBAAA,CAEO;IAFDH,KAAK,EAAC,kCAAkC;IAAEwB,OAAK,EAAAjB,MAAA,QAAAA,MAAA;MAAA,OAAEE,MAAA,CAAAgB,wBAAA,IAAAhB,MAAA,CAAAgB,wBAAA,CAAAd,KAAA,CAAAF,MAAA,EAAAG,SAAA,CAAwB;IAAA;MAC7ET,mBAAA,CAA+D;IAA3DH,KAAK,EAjBrB0B,eAAA,CAiBuBjB,MAAA,CAAAa,YAAY;yDAG3BnB,mBAAA,CAAuE;IAA/Da,IAAI,EAAC,QAAQ;IAAChB,KAAK,EAAC;KAA6B,OAAK,qB,sDApBtE2B,kBAAA,uM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}