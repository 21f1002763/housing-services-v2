{"ast":null,"code":"import _regeneratorRuntime from \"/home/user/MAD2_project/housing-services-v2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/user/MAD2_project/housing-services-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport Table from \"@/components/Table.vue\";\nimport api from \"@/api\";\nexport default {\n  components: {\n    Table: Table\n  },\n  data: function data() {\n    return {\n      professionals: [],\n      loading: false,\n      error: null,\n      columns: [{\n        key: \"professional_id\",\n        label: \"ID\"\n      }, {\n        key: \"name\",\n        label: \"Name\"\n      }, {\n        key: \"email\",\n        label: \"Email\"\n      }, {\n        key: \"service\",\n        label: \"Service\"\n      }, {\n        key: \"experience\",\n        label: \"Experience (Years)\"\n      }, {\n        key: \"status\",\n        label: \"Status\"\n      }, {\n        key: \"actions\",\n        label: \"Actions\"\n      }]\n    };\n  },\n  methods: {\n    fetchProfessionals: function fetchProfessionals() {\n      var _this = this;\n      return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this.loading = true;\n              _this.error = null;\n              _context.prev = 2;\n              _context.next = 5;\n              return api.get(\"/professional\");\n            case 5:\n              response = _context.sent;\n              console.log(\"Fetched Data:\", response.data); // Debugging step\n\n              _this.professionals = response.data.map(function (professional) {\n                var _professional$user, _professional$user2, _professional$service;\n                return {\n                  professional_id: professional.professional_id,\n                  name: ((_professional$user = professional.user) === null || _professional$user === void 0 ? void 0 : _professional$user.name) || \"N/A\",\n                  email: ((_professional$user2 = professional.user) === null || _professional$user2 === void 0 ? void 0 : _professional$user2.email) || \"N/A\",\n                  service: ((_professional$service = professional.service) === null || _professional$service === void 0 ? void 0 : _professional$service.service_name) || \"N/A\",\n                  experience: professional.experience,\n                  status: professional.status\n                };\n              });\n              _context.next = 14;\n              break;\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              _this.error = \"Failed to load professionals\";\n              console.error(_context.t0);\n            case 14:\n              _context.prev = 14;\n              _this.loading = false;\n              return _context.finish(14);\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[2, 10, 14, 17]]);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    this.fetchProfessionals();\n  }\n};","map":{"version":3,"names":["Table","api","components","data","professionals","loading","error","columns","key","label","methods","fetchProfessionals","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","console","log","map","professional","_professional$user","_professional$user2","_professional$service","professional_id","name","user","email","service","service_name","experience","status","t0","finish","stop","mounted"],"sources":["/home/user/MAD2_project/housing-services-v2/src/views/admin/Dashboard.vue"],"sourcesContent":["<template>\n  <div>\n    <h1>Admin Dashboard</h1>\n    <Table :columns=\"columns\" :data=\"professionals\">\n      <!-- Extract Name -->\n      <template v-slot:cell(name)=\"props\">\n        {{ props.item.user?.name || \"N/A\" }}\n      </template>\n\n      <!-- Extract Email -->\n      <template v-slot:cell(email)=\"props\">\n        {{ props.item.user?.email || \"N/A\" }}\n      </template>\n\n      <!-- Extract Service Name -->\n      <template v-slot:cell(service)=\"props\">\n        {{ props.item.service?.service_name || \"N/A\" }}\n      </template>\n    </Table>\n  </div>\n</template>\n\n<script>\nimport Table from \"@/components/Table.vue\";\nimport api from \"@/api\";\n\nexport default {\n  components: { Table },\n  data() {\n    return {\n      professionals: [],\n      loading: false,\n      error: null,\n      columns: [\n        { key: \"professional_id\", label: \"ID\" },\n        { key: \"name\", label: \"Name\" },\n        { key: \"email\", label: \"Email\" },\n        { key: \"service\", label: \"Service\" },\n        { key: \"experience\", label: \"Experience (Years)\" },\n        { key: \"status\", label: \"Status\" },\n        { key: \"actions\", label: \"Actions\" }\n      ]\n    };\n  },\n  methods: {\n    async fetchProfessionals() {\n      this.loading = true;\n      this.error = null;\n      try {\n        const response = await api.get(\"/professional\");\n        console.log(\"Fetched Data:\", response.data); // Debugging step\n\n        this.professionals = response.data.map(professional => ({\n          professional_id: professional.professional_id,\n          name: professional.user?.name || \"N/A\",\n          email: professional.user?.email || \"N/A\",\n          service: professional.service?.service_name || \"N/A\",\n          experience: professional.experience,\n          status: professional.status\n        }));\n      } catch (err) {\n        this.error = \"Failed to load professionals\";\n        console.error(err);\n      } finally {\n        this.loading = false;\n      }\n    }\n  },\n  mounted() {\n    this.fetchProfessionals();\n  }\n};\n</script>\n\n<style scoped>\n/* Add styles if needed */\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}