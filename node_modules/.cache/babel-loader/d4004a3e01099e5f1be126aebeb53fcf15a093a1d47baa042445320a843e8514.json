{"ast":null,"code":"// src/router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport { useAuthStore } from '@/store/auth';\nimport Login from '@/views/Login.vue';\n\n// Admin Views\nimport AdminLayout from '@/views/admin/Layout.vue';\nimport AdminDashboard from '@/views/admin/Dashboard.vue';\nimport AdminSearch from '@/views/admin/Search.vue';\nimport AdminSummary from '@/views/admin/Summary.vue';\nimport AdminProfile from '@/views/admin/Profile.vue';\n\n// Professional Views\nimport ProfessionalLayout from '@/views/professional/Layout.vue';\nimport ProfessionalDashboard from '@/views/professional/Dashboard.vue';\nimport ProfessionalSearch from '@/views/professional/Search.vue';\nimport ProfessionalSummary from '@/views/professional/Summary.vue';\nimport ProfessionalProfile from '@/views/professional/Profile.vue';\n\n// Customer Views\nimport CustomerLayout from '@/views/customer/Layout.vue';\nimport CustomerDashboard from '@/views/customer/Dashboard.vue';\nimport CustomerSearch from '@/views/customer/Search.vue';\nimport CustomerSummary from '@/views/customer/Summary.vue';\nimport CustomerProfile from '@/views/customer/Profile.vue';\nvar routes = [{\n  path: '/',\n  component: Login\n}, {\n  path: '/admin',\n  component: AdminLayout,\n  meta: {\n    requiresRole: 'admin'\n  },\n  children: [{\n    path: 'dashboard',\n    component: AdminDashboard\n  }, {\n    path: 'search',\n    component: AdminSearch\n  }, {\n    path: 'summary',\n    component: AdminSummary\n  }, {\n    path: 'profile',\n    component: AdminProfile\n  }]\n}, {\n  path: '/professional',\n  component: ProfessionalLayout,\n  meta: {\n    requiresRole: 'professional'\n  },\n  children: [{\n    path: 'dashboard',\n    component: ProfessionalDashboard\n  }, {\n    path: 'search',\n    component: ProfessionalSearch\n  }, {\n    path: 'summary',\n    component: ProfessionalSummary\n  }, {\n    path: 'profile',\n    component: ProfessionalProfile\n  }]\n}, {\n  path: '/customer',\n  component: CustomerLayout,\n  meta: {\n    requiresRole: 'customer'\n  },\n  children: [{\n    path: 'dashboard',\n    component: CustomerDashboard\n  }, {\n    path: 'search',\n    component: CustomerSearch\n  }, {\n    path: 'summary',\n    component: CustomerSummary\n  }, {\n    path: 'profile',\n    component: CustomerProfile\n  }]\n}];\nvar router = createRouter({\n  history: createWebHistory(),\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  var authStore = useAuthStore();\n  var userRole = authStore.userRole;\n  if (to.meta.requiresRole && userRole !== to.meta.requiresRole) {\n    next('/');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","useAuthStore","Login","AdminLayout","AdminDashboard","AdminSearch","AdminSummary","AdminProfile","ProfessionalLayout","ProfessionalDashboard","ProfessionalSearch","ProfessionalSummary","ProfessionalProfile","CustomerLayout","CustomerDashboard","CustomerSearch","CustomerSummary","CustomerProfile","routes","path","component","meta","requiresRole","children","router","history","beforeEach","to","from","next","authStore","userRole"],"sources":["/home/user/MAD2_project/housing-services-v2/src/router/index.js"],"sourcesContent":["// src/router/index.js\nimport { createRouter, createWebHistory } from 'vue-router';\nimport { useAuthStore } from '@/store/auth';\nimport Login from '@/views/Login.vue';\n\n// Admin Views\nimport AdminLayout from '@/views/admin/Layout.vue';\nimport AdminDashboard from '@/views/admin/Dashboard.vue';\nimport AdminSearch from '@/views/admin/Search.vue';\nimport AdminSummary from '@/views/admin/Summary.vue';\nimport AdminProfile from '@/views/admin/Profile.vue';\n\n// Professional Views\nimport ProfessionalLayout from '@/views/professional/Layout.vue';\nimport ProfessionalDashboard from '@/views/professional/Dashboard.vue';\nimport ProfessionalSearch from '@/views/professional/Search.vue';\nimport ProfessionalSummary from '@/views/professional/Summary.vue';\nimport ProfessionalProfile from '@/views/professional/Profile.vue';\n\n// Customer Views\nimport CustomerLayout from '@/views/customer/Layout.vue';\nimport CustomerDashboard from '@/views/customer/Dashboard.vue';\nimport CustomerSearch from '@/views/customer/Search.vue';\nimport CustomerSummary from '@/views/customer/Summary.vue';\nimport CustomerProfile from '@/views/customer/Profile.vue';\n\nconst routes = [\n  { path: '/', component: Login },\n\n  {\n    path: '/admin',\n    component: AdminLayout,\n    meta: { requiresRole: 'admin' },\n    children: [\n      { path: 'dashboard', component: AdminDashboard },\n      { path: 'search', component: AdminSearch },\n      { path: 'summary', component: AdminSummary },\n      { path: 'profile', component: AdminProfile },\n    ],\n  },\n  {\n    path: '/professional',\n    component: ProfessionalLayout,\n    meta: { requiresRole: 'professional' },\n    children: [\n      { path: 'dashboard', component: ProfessionalDashboard },\n      { path: 'search', component: ProfessionalSearch },\n      { path: 'summary', component: ProfessionalSummary },\n      { path: 'profile', component: ProfessionalProfile },\n    ],\n  },\n  {\n    path: '/customer',\n    component: CustomerLayout,\n    meta: { requiresRole: 'customer' },\n    children: [\n      { path: 'dashboard', component: CustomerDashboard },\n      { path: 'search', component: CustomerSearch },\n      { path: 'summary', component: CustomerSummary },\n      { path: 'profile', component: CustomerProfile },\n    ],\n  },\n];\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n});\n\nrouter.beforeEach((to, from, next) => {\n  const authStore = useAuthStore();\n  const userRole = authStore.userRole;\n  if (to.meta.requiresRole && userRole !== to.meta.requiresRole) {\n    next('/');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}